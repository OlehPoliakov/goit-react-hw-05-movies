"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[347],{941:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(885),r=n(791),s=n(739),i=n(87),o=n(7),c=n.n(o),l=n(17),u={MuvieDetailsWrapper:"MovieDetails_MuvieDetailsWrapper__x2qz3",ButtonGoBack:"MovieDetails_ButtonGoBack__H80mT",Label:"MovieDetails_Label__SFT5e",MainWrapper:"MovieDetails_MainWrapper__eRJFk",Poster:"MovieDetails_Poster__sACMV",InfoWrapper:"MovieDetails_InfoWrapper__r0bLj",TitleWrapper:"MovieDetails_TitleWrapper__ASyOM",Title:"MovieDetails_Title__PEFsx",ReleaseDate:"MovieDetails_ReleaseDate__oeqlo",GenresList:"MovieDetails_GenresList__VSPAl",GenresItem:"MovieDetails_GenresItem__2hvhY",Description:"MovieDetails_Description__b+tXL",VoteWrapper:"MovieDetails_VoteWrapper__Q5iRC",VoteAverage:"MovieDetails_VoteAverage__kWcjF",VoteCount:"MovieDetails_VoteCount__ttx6w",Value:"MovieDetails_Value__XRgNx",AdditionalTitle:"MovieDetails_AdditionalTitle__mEBvg",NavigationsItem:"MovieDetails_NavigationsItem__SkhEH",CustomLink:"MovieDetails_CustomLink__QxSBv",active:"MovieDetails_active__vYC56"},p=n(135),v=n(184);function d(e){var t=e.movieInfo,n=(0,s.TH)(),a=(0,s.s0)(),r=n.state.from,o=t.title,c=t.genres,d=t.description,m=t.poster,_=t.releaseDate,f=t.voteAverage,h=t.voteCount;return(0,v.jsxs)("div",{className:u.MuvieDetailsWrapper,children:[(0,v.jsxs)("button",{className:u.ButtonGoBack,type:"button",onClick:function(){var e,t;return a(null!==(e=null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")},children:[(0,v.jsx)(p.bUI,{}),(0,v.jsx)("span",{className:u.Label,children:"Go back"})]}),(0,v.jsxs)("div",{className:u.MainWrapper,children:[(0,v.jsx)("img",{className:u.Poster,src:m?"https://image.tmdb.org/t/p/w500/".concat(m):l,alt:o}),(0,v.jsxs)("div",{className:u.InfoWrapper,children:[(0,v.jsxs)("div",{className:u.TitleWrapper,children:[(0,v.jsx)("h2",{className:u.Title,children:o}),(0,v.jsx)("p",{className:u.ReleaseDate,children:_})]}),(0,v.jsx)("ul",{className:u.GenresList,children:c&&c.map((function(e){var t=e.name,n=e.id;return(0,v.jsx)("li",{className:u.GenresItem,children:t},n)}))}),(0,v.jsx)("p",{className:u.Description,children:d}),(0,v.jsxs)("div",{className:u.VoteWrapper,children:[(0,v.jsxs)("p",{className:u.VoteAverage,children:["Vote average:",(0,v.jsx)("span",{className:u.Value,children:f.toFixed(1)})]}),(0,v.jsxs)("p",{className:u.VoteCount,children:["Vote count:",(0,v.jsx)("span",{className:u.Value,children:h})]})]})]})]}),(0,v.jsxs)("div",{className:u.AdditionalWrapper,children:[(0,v.jsx)("p",{className:u.AdditionalTitle,children:"Additional Information"}),(0,v.jsxs)("ul",{className:u.NavigationsList,children:[(0,v.jsx)("li",{className:u.NavigationsItem,children:(0,v.jsxs)(i.OL,{className:u.CustomLink,to:"cast",state:{from:r},children:[(0,v.jsx)(p.Dli,{})," Cast"]})}),(0,v.jsx)("li",{className:u.NavigationsItem,children:(0,v.jsxs)(i.OL,{className:u.CustomLink,to:"reviews",state:{from:r},children:[(0,v.jsx)(p.Dli,{})," Reviews"]})})]})]})]})}d.prototype={movieInfo:c().shape({title:c().string,genres:c().arrayOf(c().shape({id:c().number,name:c().string})),description:c().string,poster:c().string,releaseDate:c().string,voteAverage:c().number,voteCount:c().number})};var m=d,_=n(48),f=n(433),h=(0,r.lazy)((function(){return n.e(81).then(n.bind(n,102))})),x=(0,r.lazy)((function(){return n.e(176).then(n.bind(n,615))}));var g=function(){var e=(0,s.UO)().movieId,t=(0,r.useState)(null),n=(0,a.Z)(t,2),i=n[0],o=n[1];return(0,r.useEffect)((function(){(0,f.TP)(e).then((function(e){var t=e.original_title,n=e.genres,a=e.overview,r=e.poster_path,s=e.release_date,i=e.vote_average,c=e.vote_count;return o({title:t,genres:n,description:a,poster:r,releaseDate:s,voteAverage:i,voteCount:c})}))}),[e]),(0,v.jsxs)(v.Fragment,{children:[i&&(0,v.jsx)(m,{movieInfo:i}),(0,v.jsx)(r.Suspense,{fallback:(0,v.jsx)(_.Z,{}),children:(0,v.jsxs)(s.Z5,{children:[(0,v.jsx)(s.AW,{path:"cast",element:(0,v.jsx)(h,{})}),(0,v.jsx)(s.AW,{path:"reviews",element:(0,v.jsx)(x,{})})]})})]})}},433:function(e,t,n){function a(e,t,n,a,r,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){a(i,r,s,o,c,"next",e)}function c(e){a(i,r,s,o,c,"throw",e)}o(void 0)}))}}n.d(t,{zv:function(){return l},TP:function(){return u},tx:function(){return p},V0:function(){return v},Hg:function(){return d}});var s=n(687),i=n.n(s),o="57c4f7b58ce81ca7bd804351e71dcbc7",c="https://api.themoviedb.org/3",l=function(){var e=r(i().mark((function e(t){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/movie/".concat(t,"/credits?api_key=").concat(o,"&language=en-US"),e.next=3,fetch("".concat(c).concat(n));case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=r(i().mark((function e(t){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/movie/".concat(t,"?api_key=").concat(o,"&language=en-US"),e.next=3,fetch("".concat(c).concat(n));case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=r(i().mark((function e(t){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/movie/".concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=1"),e.next=3,fetch("".concat(c).concat(n));case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=r(i().mark((function e(t){var n,a,r,s,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:1,a="/search/movie?api_key=".concat(o,"&query=").concat(t,"&language=en-US&page=").concat(n,"&include_adult=false"),e.next=4,fetch("".concat(c).concat(a));case 4:return r=e.sent,e.next=7,r.json();case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=r(i().mark((function e(){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/trending/all/day?api_key=".concat(o),e.next=3,fetch("".concat(c).concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},17:function(e,t,n){e.exports=n.p+"static/media/poster.04c882399a3e1cbf8b12.jpg"}}]);
//# sourceMappingURL=movie-details-page.c47ed24c.chunk.js.map