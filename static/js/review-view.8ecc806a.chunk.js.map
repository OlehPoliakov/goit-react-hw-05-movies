{"version":3,"file":"static/js/review-view.8ecc806a.chunk.js","mappings":"uKACA,MAA0B,yB,SCEpBA,EAAU,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACd,gBAAKC,UAAWC,EAAhB,SAAiCF,GADnB,EAIhBD,EAAQI,aAAe,CACrBH,SAAU,IAOZ,O,gKCdA,EAAuB,sBAAvB,EAAoD,sBAApD,EAA+I,wBAA/I,EAAiL,yB,SC2EjL,EAlEgB,WACd,OAA8BI,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAgCF,EAAAA,EAAAA,WAAS,GAAzC,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,IAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,SAGRE,EAAAA,EAAAA,YAAU,WACRC,GAED,GAAE,IAGH,IAAMA,EAAS,mCAAG,6FAChBN,GAAW,GADK,kBAIYO,EAAAA,GAAAA,aAAiBJ,GAJ7B,gBAINK,EAJM,EAINA,QACRV,EAAWU,GALG,gDAOdC,QAAQR,MAAM,8CAAd,MACAC,EAAS,KAAMQ,SARD,yBAUdV,GAAW,GAVG,4EAAH,qDAcf,OACE,2BACGD,IAAa,SAACY,EAAA,EAAD,IAEbd,EAAQe,OAAS,GAChB,eAAInB,UAAWC,EAAf,SACGG,EAAQgB,KAAI,YAA8B,IAA3BC,EAA0B,EAA1BA,GAAIC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC1B,OACE,eAAavB,UAAWC,EAAxB,UACE,4BACE,cAAGD,UAAWC,EAAd,SAA8BqB,KAC9B,cAAGtB,UAAWC,EAAd,SAA+BsB,QAH1BF,EAOZ,OAGH,oEAGDb,IACC,SAACV,EAAA,EAAD,WACE,gGAOT,C","sources":["webpack://react-homework-template/./src/components/Message/Message.module.scss?ab33","components/Message/Message.jsx","webpack://react-homework-template/./src/components/Reviews/Reviews.module.scss?0ade","components/Reviews/Reviews.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Message_message__UdveK\"};","import PropTypes from 'prop-types';\nimport styles from './Message.module.scss';\n\nconst Message = ({ children }) => (\n  <div className={styles.message}>{children}</div>\n);\n\nMessage.defaultProps = {\n  children: [],\n};\n\nMessage.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Message;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Reviews_list__Dwzjr\",\"item\":\"Reviews_item__nNx+o\",\"title\":\"Reviews_title__efZrh\",\"text\":\"Reviews_text__OaCJi\",\"Author\":\"Reviews_Author__J3TOP\",\"Content\":\"Reviews_Content__44bJT\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Loader from 'components/Loader';\nimport Message from 'components/Message';\n\nimport api from 'services/api';\nimport styles from './Reviews.module.scss';\n\n// Компонент списка обзоров\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const { movieId } = useParams(); // Получаем id фильма из useParams\n\n  // Срабатывает при маунте\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  // Запрос за обзорами\n  const fetchData = async () => {\n    setLoading(true);\n\n    try {\n      const { results } = await api.fetchReviews(movieId);\n      setReviews(results);\n    } catch (error) {\n      console.error('Smth wrong with fetch reviews on movie page', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      {isLoading && <Loader />}\n\n      {reviews.length > 0 ? (\n        <ul className={styles.list}>\n          {reviews.map(({ id, author, content }) => {\n            return (\n              <li key={id} className={styles.item}>\n                <div>\n                  <b className={styles.Author}>{author}</b>\n                  <p className={styles.Content}>{content}</p>\n                </div>\n              </li>\n            );\n          })}\n        </ul>\n      ) : (\n        <p>We don't have any reviews for this movie</p>\n      )}\n\n      {error && (\n        <Message>\n          <h2>\n            The service is temporarily unavailable. Please try again later.\n          </h2>\n        </Message>\n      )}\n    </div>\n  );\n};\n\nReviews.propTypes = {\n  movieId: PropTypes.object,\n  author: PropTypes.string,\n  content: PropTypes.string,\n};\n\nexport default Reviews;\n"],"names":["Message","children","className","styles","defaultProps","useState","reviews","setReviews","isLoading","setLoading","error","setError","movieId","useParams","useEffect","fetchData","api","results","console","message","Loader","length","map","id","author","content"],"sourceRoot":""}