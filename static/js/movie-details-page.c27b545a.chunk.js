"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[347],{6652:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var r=a(5861),n=a(885),s=a(4687),i=a.n(s),c=a(2791),o=a(7689),l=a(1017),u={MainWrapper:"MovieDetails_MainWrapper__eRJFk",Poster:"MovieDetails_Poster__sACMV",InfoWrapper:"MovieDetails_InfoWrapper__r0bLj",TitleWrapper:"MovieDetails_TitleWrapper__ASyOM",Title:"MovieDetails_Title__PEFsx",ReleaseDate:"MovieDetails_ReleaseDate__oeqlo",GenresList:"MovieDetails_GenresList__VSPAl",GenresItem:"MovieDetails_GenresItem__2hvhY",Description:"MovieDetails_Description__b+tXL",VoteWrapper:"MovieDetails_VoteWrapper__Q5iRC",VoteAverage:"MovieDetails_VoteAverage__kWcjF",VoteCount:"MovieDetails_VoteCount__ttx6w",Value:"MovieDetails_Value__XRgNx"},p=a(184);var v=function(e){var t=e.movieInfo,a=t.original_title,r=t.genres,n=t.overview,s=t.poster_path,i=t.release_date,c=t.vote_average,o=t.vote_count;return(0,p.jsx)("div",{className:u.MuvieDetailsWrapper,children:(0,p.jsxs)("div",{className:u.MainWrapper,children:[(0,p.jsx)("img",{className:u.Poster,src:s?"https://image.tmdb.org/t/p/w500/".concat(s):l,alt:a}),(0,p.jsxs)("div",{className:u.InfoWrapper,children:[(0,p.jsxs)("div",{className:u.TitleWrapper,children:[(0,p.jsx)("h2",{className:u.Title,children:a}),(0,p.jsx)("p",{className:u.ReleaseDate,children:i})]}),(0,p.jsx)("ul",{className:u.GenresList,children:r&&r.map((function(e){var t=e.name,a=e.id;return(0,p.jsx)("li",{className:u.GenresItem,children:t},a)}))}),(0,p.jsx)("p",{className:u.Description,children:n}),(0,p.jsxs)("div",{className:u.VoteWrapper,children:[(0,p.jsxs)("p",{className:u.VoteAverage,children:["Vote average:",(0,p.jsx)("span",{className:u.Value,children:c})]}),(0,p.jsxs)("p",{className:u.VoteCount,children:["Vote count:",(0,p.jsx)("span",{className:u.Value,children:o})]})]})]})]})})},h=a(6731),d=a(9135),m={AdditionalTitle:"MovieNavigation_AdditionalTitle__cKRab",NavigationsItem:"MovieNavigation_NavigationsItem__T6tK7",CustomLink:"MovieNavigation_CustomLink__TSe7E",active:"MovieNavigation_active__M1P1a"},f=function(){var e,t,a=(0,o.TH)();return(0,p.jsxs)("div",{className:m.AdditionalWrapper,children:[(0,p.jsx)("p",{className:m.AdditionalTitle,children:"Additional Information"}),(0,p.jsxs)("ul",{className:m.NavigationsList,children:[(0,p.jsx)("li",{className:m.NavigationsItem,children:(0,p.jsxs)(h.OL,{className:m.CustomLink,to:"cast",state:{from:null===(e=a.state)||void 0===e?void 0:e.from},children:[(0,p.jsx)(d.Dli,{})," Cast"]})}),(0,p.jsx)("li",{className:m.NavigationsItem,children:(0,p.jsxs)(h.OL,{className:m.CustomLink,to:"reviews",state:{from:null===(t=a.state)||void 0===t?void 0:t.from},children:[(0,p.jsx)(d.Dli,{})," Reviews"]})})]})]})},_=a(7808),x="GoBackButton_ButtonGoBack__T7k5Z",g="GoBackButton_Label__xQKL+",j=function(e){var t=e.to;return(0,p.jsx)(h.rU,{to:t,children:(0,p.jsxs)("button",{className:x,type:"button",children:[(0,p.jsx)(d.bUI,{}),(0,p.jsx)("span",{className:g,children:"Go back"})]})})},w=a(4390);var N=function(){var e,t,a=(0,c.useState)(null),s=(0,n.Z)(a,2),l=s[0],u=s[1],h=(0,c.useState)(!1),d=(0,n.Z)(h,2),m=d[0],x=d[1],g=(0,c.useState)(null),N=(0,n.Z)(g,2),k=(N[0],N[1]),M=null!==(e=null===(t=(0,o.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",b=(0,o.UO)().movieId;(0,c.useEffect)((function(){D()}),[]);var D=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,w.ZP.fetchMovieById(b);case 4:t=e.sent,u(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Smth wrong with fetch movie on movie page",e.t0),k({error:e.t0});case 12:return e.prev=12,x(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j,{to:M}),l&&(0,p.jsx)(v,{movieInfo:l}),l&&(0,p.jsx)(f,{}),m&&(0,p.jsx)(_.Z,{}),(0,p.jsx)(o.j3,{})]})}},4390:function(e,t,a){var r=a(5861),n=a(4687),s=a.n(n),i=a(4569),c=a.n(i);c().defaults.baseURL="https://api.themoviedb.org/3/";var o="57c4f7b58ce81ca7bd804351e71dcbc7",l=function(){var e=(0,r.Z)(s().mark((function e(){var t,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("trending/movie/day?api_key=".concat(o));case 3:return t=e.sent,a=t.data,r=a.results,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.error("Smth wrong with fetch trends in api",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(t,a){var r,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("search/movie?api_key=".concat(o,"&query=").concat(t,"&page=").concat(a,"&language=en-US"));case 3:return r=e.sent,n=r.data,i=n.results,e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0),console.error("Smth wrong with fetch movie search in api",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(s().mark((function e(t){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("/movie/".concat(t,"?api_key=").concat(o,"&language=en-US"));case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.error("Smth wrong with fetch movie id in api",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(s().mark((function e(t){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("/movie/".concat(t,"/credits?api_key=").concat(o,"&language=en-US"));case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.error("Smth wrong with fetch cast in api",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(s().mark((function e(t){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("/movie/".concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.error("Smth wrong with fetch reviews in api",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();t.ZP={fetchTrends:l,fetchMoviesBySearch:u,fetchMovieById:p,fetchCast:v,fetchReviews:h}},1017:function(e,t,a){e.exports=a.p+"static/media/poster.04c882399a3e1cbf8b12.jpg"}}]);
//# sourceMappingURL=movie-details-page.c27b545a.chunk.js.map