{"version":3,"file":"static/js/movie-details-page.365d8c7e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.scss?0a3a","components/MovieDetails/MovieDetails.jsx","webpack://react-homework-template/./src/components/MovieNavigation/MovieNavigation.module.scss?23f3","components/MovieNavigation/MovieNavigation.jsx","webpack://react-homework-template/./src/components/GoBackButton/GoBackButton.module.scss?56b6","components/GoBackButton/GoBackButton.jsx","pages/MovieDetailsPage.js","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"MainWrapper\":\"MovieDetails_MainWrapper__eRJFk\",\"Poster\":\"MovieDetails_Poster__sACMV\",\"InfoWrapper\":\"MovieDetails_InfoWrapper__r0bLj\",\"TitleWrapper\":\"MovieDetails_TitleWrapper__ASyOM\",\"Title\":\"MovieDetails_Title__PEFsx\",\"ReleaseDate\":\"MovieDetails_ReleaseDate__oeqlo\",\"GenresList\":\"MovieDetails_GenresList__VSPAl\",\"GenresItem\":\"MovieDetails_GenresItem__2hvhY\",\"Description\":\"MovieDetails_Description__b+tXL\",\"VoteWrapper\":\"MovieDetails_VoteWrapper__Q5iRC\",\"VoteAverage\":\"MovieDetails_VoteAverage__kWcjF\",\"VoteCount\":\"MovieDetails_VoteCount__ttx6w\",\"Value\":\"MovieDetails_Value__XRgNx\"};","import propTypes from 'prop-types';\nimport posterBg from 'utilities/images/poster.jpg';\nimport styles from './MovieDetails.module.scss';\n\n// Компонент полной карточки фильма\nfunction MovieDetails({ movieInfo }) {\n  const {\n    original_title,\n    genres,\n    overview,\n    poster_path,\n    release_date,\n    vote_average,\n    vote_count,\n  } = movieInfo;\n\n  return (\n    <div className={styles.MuvieDetailsWrapper}>\n      <div className={styles.MainWrapper}>\n        <img\n          className={styles.Poster}\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n              : posterBg\n          }\n          alt={original_title}\n        />\n        <div className={styles.InfoWrapper}>\n          <div className={styles.TitleWrapper}>\n            <h2 className={styles.Title}>{original_title}</h2>\n            <p className={styles.ReleaseDate}>{release_date}</p>\n          </div>\n          <ul className={styles.GenresList}>\n            {genres &&\n              genres.map(({ name, id }) => (\n                <li className={styles.GenresItem} key={id}>\n                  {name}\n                </li>\n              ))}\n          </ul>\n          <p className={styles.Description}>{overview}</p>\n          <div className={styles.VoteWrapper}>\n            <p className={styles.VoteAverage}>\n              Vote average:\n              <span className={styles.Value}>{vote_average}</span>\n            </p>\n            <p className={styles.VoteCount}>\n              Vote count:\n              <span className={styles.Value}>{vote_count}</span>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nMovieDetails.prototype = {\n  movieInfo: propTypes.shape({\n    title: propTypes.string,\n    genres: propTypes.arrayOf(\n      propTypes.shape({\n        id: propTypes.number,\n        name: propTypes.string,\n      })\n    ),\n    description: propTypes.string,\n    poster: propTypes.string,\n    releaseDate: propTypes.string,\n    voteAverage: propTypes.number,\n    voteCount: propTypes.number,\n  }),\n};\n\nexport default MovieDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"AdditionalTitle\":\"MovieNavigation_AdditionalTitle__cKRab\",\"NavigationsItem\":\"MovieNavigation_NavigationsItem__T6tK7\",\"CustomLink\":\"MovieNavigation_CustomLink__TSe7E\",\"active\":\"MovieNavigation_active__M1P1a\"};","import { useLocation } from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { FaChevronRight } from 'react-icons/fa';\nimport styles from './MovieNavigation.module.scss';\n\n// Меню актёров и обзоров\nconst MovieNavigation = () => {\n  const location = useLocation();\n\n  return (\n    <div className={styles.AdditionalWrapper}>\n      <p className={styles.AdditionalTitle}>Additional Information</p>\n      <ul className={styles.NavigationsList}>\n        <li className={styles.NavigationsItem}>\n          <NavLink\n            className={styles.CustomLink}\n            to=\"cast\"\n            state={{ from: location.state?.from }}\n          >\n            <FaChevronRight /> Cast\n          </NavLink>\n        </li>\n        <li className={styles.NavigationsItem}>\n          <NavLink\n            className={styles.CustomLink}\n            to=\"reviews\"\n            state={{ from: location.state?.from }}\n          >\n            <FaChevronRight /> Reviews\n          </NavLink>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nMovieNavigation.propTypes = {\n  subLocation: PropTypes.object,\n};\n\nexport default MovieNavigation;\n","// extracted by mini-css-extract-plugin\nexport default {\"ButtonGoBack\":\"GoBackButton_ButtonGoBack__T7k5Z\",\"Label\":\"GoBackButton_Label__xQKL+\"};","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { FaChevronLeft } from 'react-icons/fa';\nimport styles from './GoBackButton.module.scss';\n\nconst GoBackButton = ({ to }) => (\n  <Link to={to}>\n    <button className={styles.ButtonGoBack} type=\"button\">\n      <FaChevronLeft />\n      <span className={styles.Label}>Go back</span>\n    </button>\n  </Link>\n);\n\nGoBackButton.propTypes = {\n  to: PropTypes.func.isRequired,\n};\n\nexport default GoBackButton;\n","import { useState, useEffect, lazy, Suspense } from 'react';\nimport { useParams, useLocation, Routes, Route } from 'react-router-dom';\n\nimport MovieDetails from 'components/MovieDetails';\nimport MovieNavigation from 'components/MovieNavigation';\nimport Loader from 'components/Loader';\nimport GoBackButton from 'components/GoBackButton';\nimport api from 'services/api';\n\nconst Cast = lazy(() =>\n  import('components/Cast' /* webpackChunkName: \"cast-view\" */)\n);\nconst Reviews = lazy(() =>\n  import('components/Reviews' /* webpackChunkName: \"review-view\" */)\n);\n\nfunction MovieDetailsPage() {\n  const [movieInfo, setMovieInfo] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n  // eslint-disable-next-line\n  const [error, setError] = useState(null);\n\n  const location = useLocation();\n\n  const { movieId } = useParams(); // Получаем id фильма из useParams\n  // Запрос при маунте\n  useEffect(() => {\n    getData();\n    // eslint-disable-next-line\n  }, []);\n\n  const getData = async () => {\n    setLoading(true);\n\n    try {\n      const result = await api.fetchMovieById(movieId);\n      setMovieInfo(result);\n    } catch (error) {\n      console.error('Smth wrong with fetch movie on movie page', error);\n      setError({ error });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Функция для кнопки \"Назад\"\n  const onGoBack = location.state?.from ?? '/';\n\n  return (\n    <>\n      <GoBackButton to={onGoBack} />\n\n      {movieInfo && <MovieDetails movieInfo={movieInfo} />}\n\n      {movieInfo && <MovieNavigation />}\n\n      <Suspense fallback={<Loader />}>\n        <Routes>\n          <Route path=\"cast\" element={<Cast />} />\n          <Route path=\"reviews\" element={<Reviews />} />\n        </Routes>\n      </Suspense>\n\n      {isLoading && <Loader />}\n    </>\n  );\n}\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst apiKey = '57c4f7b58ce81ca7bd804351e71dcbc7';\n\n// Фетч трендов\nexport const fetchTrends = async () => {\n  try {\n    const { data } = await axios.get(`trending/movie/day?api_key=${apiKey}`);\n    const trends = data.results;\n\n    return trends;\n  } catch (error) {\n    console.error('Smth wrong with fetch trends in api', error);\n  }\n};\n\n// Фетч по поиску\nexport const fetchMoviesBySearch = async (searchQuery, currentPage) => {\n  try {\n    const { data } = await axios.get(\n      `search/movie?api_key=${apiKey}&query=${searchQuery}&page=${currentPage}&language=en-US`\n    );\n\n    const results = data.results;\n\n    return results;\n  } catch (error) {\n    console.error('Smth wrong with fetch movie search in api', error);\n  }\n};\n\n// Фетч фильма по id\nconst fetchMovieById = async id => {\n  try {\n    const { data } = await axios.get(\n      `/movie/${id}?api_key=${apiKey}&language=en-US`\n    );\n\n    return data;\n  } catch (error) {\n    console.error('Smth wrong with fetch movie id in api', error);\n  }\n};\n\n// Фетч актёров для фильма\nexport const fetchCast = async id => {\n  try {\n    const { data } = await axios.get(\n      `/movie/${id}/credits?api_key=${apiKey}&language=en-US`\n    );\n\n    return data;\n  } catch (error) {\n    console.error('Smth wrong with fetch cast in api', error);\n  }\n};\n\n// Фетч отзывов на фильм\nexport const fetchReviews = async id => {\n  try {\n    const { data } = await axios.get(\n      `/movie/${id}/reviews?api_key=${apiKey}&language=en-US&page=1`\n    );\n\n    return data;\n  } catch (error) {\n    console.error('Smth wrong with fetch reviews in api', error);\n  }\n};\n\n// eslint-disable-next-line\nexport default {\n  fetchTrends,\n  fetchMoviesBySearch,\n  fetchMovieById,\n  fetchCast,\n  fetchReviews,\n};\n"],"names":["MovieDetails","movieInfo","original_title","genres","overview","poster_path","release_date","vote_average","vote_count","className","styles","src","posterBg","alt","map","name","id","prototype","propTypes","title","description","poster","releaseDate","voteAverage","voteCount","location","useLocation","to","state","from","type","Cast","lazy","Reviews","useState","setMovieInfo","isLoading","setLoading","setError","movieId","useParams","useEffect","getData","api","result","console","error","onGoBack","Suspense","fallback","Loader","path","element","axios","apiKey","fetchTrends","data","trends","results","fetchMoviesBySearch","searchQuery","currentPage","fetchMovieById","fetchCast","fetchReviews"],"sourceRoot":""}