{"version":3,"file":"static/js/cast-view.19eec618.chunk.js","mappings":"2PACA,GAAgB,MAAQ,qBAAqB,KAAO,oBAAoB,UAAY,0B,SCI9EA,EAAQ,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,UACtBC,EAAWH,EAAK,yCAAqCA,GAAUI,EAErE,OACE,iBAAKC,UAAWC,EAAAA,KAAhB,WACE,gBAAKD,UAAWC,EAAAA,aAAhB,UACE,gBAAKC,IAAKJ,EAAUE,UAAWC,EAAAA,MAAcE,IAAKP,OAEpD,cAAGI,UAAWC,EAAAA,KAAd,SAA4BL,KAC5B,eAAGI,UAAWC,EAAAA,UAAd,WACE,2CACA,uBAAIJ,SAIX,EAEDH,EAAMU,aAAe,CACnBT,MAAOI,GAST,Q,8BC/BA,EAAuB,mBAAvB,EAAiD,mBCuEjD,EA7Da,WACX,OAA4BM,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAgCF,EAAAA,EAAAA,WAAS,GAAzC,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,IAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,SAGRE,EAAAA,EAAAA,YAAU,WACRC,GAED,GAAE,IAGH,IAAMA,EAAS,mCAAG,6FAChBN,GAAW,GADK,kBAISO,EAAAA,GAAAA,UAAcJ,GAJvB,gBAINK,EAJM,EAINA,KACRV,EAAUU,GALI,gDAOdC,QAAQR,MAAM,2CAAd,MACAC,EAAS,KAAMQ,SARD,yBAUdV,GAAW,GAVG,4EAAH,qDAcf,OACE,2BACGD,IAAa,SAACY,EAAA,EAAD,IAEbd,EAAOe,OAAS,GACf,eAAIrB,UAAWC,EAAf,SACGK,EAAOgB,KAAI,YAA4C,IAAzCC,EAAwC,EAAxCA,GAAIC,EAAoC,EAApCA,aAAc5B,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,UACrC,OACE,eAAaG,UAAWC,EAAxB,UACE,SAAC,EAAD,CAAON,MAAO6B,EAAc5B,KAAMA,EAAMC,UAAWA,KAD5C0B,EAIZ,OAGH,gFAGDb,IACC,SAACe,EAAA,EAAD,WACE,gGAOT,C,uDCjED,MAA0B,yB,SCEpBA,EAAU,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACd,gBAAK1B,UAAWC,EAAhB,SAAiCyB,GADnB,EAIhBD,EAAQE,aAAe,CACrBD,SAAU,IAOZ,O","sources":["webpack://react-homework-template/./src/components/Actor/Actor.module.scss?15cc","components/Actor/Actor.jsx","webpack://react-homework-template/./src/components/Cast/Cast.module.scss?0e19","components/Cast/Cast.jsx","webpack://react-homework-template/./src/components/Message/Message.module.scss?ab33","components/Message/Message.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Photo\":\"Actor_Photo__tMwtW\",\"Name\":\"Actor_Name__lQDLk\",\"Character\":\"Actor_Character__9-BGz\"};","import PropTypes from 'prop-types';\nimport actorBg from 'utilities/images/actor.png';\n\nimport styles from './Actor.module.scss';\n\nconst Actor = ({ photo, name, character }) => {\n  const photoUrl = photo ? `https://image.tmdb.org/t/p/w300${photo}` : actorBg;\n\n  return (\n    <div className={styles.List}>\n      <div className={styles.PhotoWrapper}>\n        <img src={photoUrl} className={styles.Photo} alt={name} />\n      </div>\n      <p className={styles.Name}>{name}</p>\n      <p className={styles.Character}>\n        <span>Character: </span>\n        <b>{character}</b>\n      </p>\n    </div>\n  );\n};\n\nActor.dedaultProps = {\n  photo: actorBg,\n};\n\nActor.propTypes = {\n  photo: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  character: PropTypes.string.isRequired,\n};\n\nexport default Actor;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Cast_list__gNQg+\",\"item\":\"Cast_item__Km-n9\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Actor from 'components/Actor';\nimport Loader from 'components/Loader';\nimport Message from 'components/Message';\n\nimport api from 'services/api';\nimport styles from './Cast.module.scss';\n\n// Компонент списка актёров\nconst Cast = () => {\n  const [actors, setActors] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const { movieId } = useParams(); // Получаем id фильма из useParams\n\n  // Срабатывает при маунте\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  // Запрос за актёрами\n  const fetchData = async () => {\n    setLoading(true);\n\n    try {\n      const { cast } = await api.fetchCast(movieId);\n      setActors(cast);\n    } catch (error) {\n      console.error('Smth wrong with fetch cast on movie page', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      {isLoading && <Loader />}\n\n      {actors.length > 0 ? (\n        <ul className={styles.list}>\n          {actors.map(({ id, profile_path, name, character }) => {\n            return (\n              <li key={id} className={styles.item}>\n                <Actor photo={profile_path} name={name} character={character} />\n              </li>\n            );\n          })}\n        </ul>\n      ) : (\n        <p>There is no information about actors for this movie.</p>\n      )}\n\n      {error && (\n        <Message>\n          <h2>\n            The service is temporarily unavailable. Please try again later.\n          </h2>\n        </Message>\n      )}\n    </div>\n  );\n};\n\nCast.propTypes = {\n  movieId: PropTypes.object,\n};\n\nexport default Cast;\n","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Message_message__UdveK\"};","import PropTypes from 'prop-types';\nimport styles from './Message.module.scss';\n\nconst Message = ({ children }) => (\n  <div className={styles.message}>{children}</div>\n);\n\nMessage.defaultProps = {\n  children: [],\n};\n\nMessage.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Message;\n"],"names":["Actor","photo","name","character","photoUrl","actorBg","className","styles","src","alt","dedaultProps","useState","actors","setActors","isLoading","setLoading","error","setError","movieId","useParams","useEffect","fetchData","api","cast","console","message","Loader","length","map","id","profile_path","Message","children","defaultProps"],"sourceRoot":""}